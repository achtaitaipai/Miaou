<!DOCTYPE html>
<html>
<head>
	<title>Documentation</title>
	<meta charset="utf-8">
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700&amp;display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<ul id="menu">
		<li><a href="index.html">Général</a></li><!--
	--><li ><a href="tutoriel.html">Tutoriel</a></li><!--
	--><li ><a href="debuter.html">Bases</a></li><!--
	--><li class="actuel"><a href="approfondir.html">Approfondir</a></li>
	</ul>
	<div id="table">
			<p id="titretable">Index</p>
		<ul>
			<li><a href="#trigger">Trigger</a></li>
			<li><a href="#answer">Answer</a></li>
			<li><a href="#imbrication">Imbrication</a></li>
			<li><a href="#variables">Variables</a></li>
			<li><a href="#conditions">Conditions</a></li>
			<li><a href="#liens">Links</a></li>
			<li><a href="#images">Images</a></li>
			<li><a href="#sound">Sounds</a></li>
			<li><a href="#tags">Tags</a></li>
		</ul>
	</div>
<div id="container">
	<div class="chapitre 2" id="trigger">
		<h2>Titre et couleurs</h2>
		<p>Le titre et la couleur des boîtes n'ont aucune incidence sur le fonctionnement du bot, ils permettent simplement d'organiser les boîtes.</p>
		<h2>Trigger</h2>
		<p>Trigger: Correspond à ce qui déclenchera la boîte.</p>
		<p>Lorsque l'utilisateur envoie du texte, le bot vérifie chaque boîte jusqu'à en trouver une dont le trigger fasse partie du texte de l'utilistateur.</p>
		<p>Une boîte ayant pour trigger :"bonjour" se déclenchera pour "bonjour", "machin te passe le bonjour" et "blablablabonjourblablabla"</p>
		<p>Les trigger utilisent les expressions régulières, ce qui signifie que les caractères suivants : <b>[\^$.|?*+(){}</b> doivent être précédé d'un <b>\</b> pour être utilisés normalement.</p>
		<p>En contre-partie il est possible d'utiliser les super-pouvoirs des <a href="https://openclassrooms.com/fr/courses/1916641-dynamisez-vos-sites-web-avec-javascript/1920128-les-expressions-regulieres-partie-1-2"> expressions régulières</a>. 
			<ul>
				<li>"<b>.*</b>" désigne n'importe qu'elle suite de caractères. Ainsi, le trigger :"<b>Comment .* va</b>" se déclenchera pour "comment ça va ?" et"comment tu vas".</li>
				<li>"<b>^</b>" signifie que ce qui suit doit être au début du texte envoyé par l'utilisateur. Par exemple : "<b>^bonjour</b>" se déclenchera pour "bonjour", mais pas pour "machin te passe le bonjour".</li>
				<li>"<b>$</b>" signifie que ce qui précède doit être à la fin du texte envoyé par l'utilisateur. Par exemple : "<b>bonjour$</b>" se déclenchera pour "bonjour", mais pas pour "bonjour à toi"</li>
			</ul>
		<p>Il est possible de mettre plusieurs Trigger à la même boîte en les espaçant par "<b> & </b>"</p>

	</div>
	<div class="chapitre 3" id="answer">
		<h2>Answer</h2>
		<p>Answer correspond à ce que répondra la boîte lorsqu'elle est déclenchée.</p>
		<h3>plusieurs answer</h3>
		<p>Il est possible d'écrire plusieurs answer en les espaçant par "<b> & </b>"</p>
		<p>La answer sera choisie en fonction du mode :<ul>
			<li>aléatoire: le bot choisit une answer au hasard</li>
			<li>loop : le bot choisira la première answer, puis la seconde et ainsi de suite jusqu'à revenir à la première lorsque toutes les answer auront été lues</li>
			<li>à la suite : le bot choisira la première answer, puis la seconde etc et restera sur la dernière lorsque toutes les answer auront été lues</li>
		</ul></p>
		<h3>plusieurs messages et temps</h3>
		<p>Chaque answer peut être constituée de plusieurs messages, pour celà espacer les messages avec :"<b>--</b>"</p>
		<p>Vous pouvez préciser un temps d'attente avant que le bot ne réponde, par exemple pour que le bot attende trois secondes mettez ((3)) à la fin du message.</p>
		<p>Pour que le bot ne réponde pas écrivez "<b>NOTHING</b>".</p>
	</div>
	<div class="chapitre 4" id="imbrication">
		<h2>Imbrication</h2>
		<p>Il est possible de créer des boîtes à l'intérieur d'autres boîtes</p>
		<p>Lorsqu'on déclenche une boîte qui en contient d'autres, son contenu est utilisé pour la suite de la conversation.</p>
		<p>De fait les répliques suivantes de l'utilisateur ne pouront déclencher que les boîtes contenues</p>
	</div>
	<div class="chapitre 4" id="variables">
		<h2>Variables</h2>
		<p>Les variables permettent de stocker des valeurs, pour que le bot évolue au fil de la conversation. Ils peuvent être appelé dans Answer en les inscrivant entre [] par exemple "<b>[bonjour]</b>"</p>
		<h3>flag</h3>
		<p>Les flags sont des variables qui au départ sont toutes égales à 0</p>
		<p>Lorsque vous nommez un drapeau dans une boite il sera augmenté d'1 à chaque fois que la boîte sera ouverte</p>
		<p>Ils permettent de savoir si une boite a déjà été ouverte.</p>
		<h3>string</h3>
		<p>Les String permettent de stocker une réplique de l'utilisateur.</p>
		<p>Vous pouvez par exemple créer une boite qui demande le prénom de l'utilisateur et stocker la réponse dans la string prenom. Les boîtes suivantes pourront utiliser cette variable dans leurs Answer. Par exemple "<b>bonjour [prenom]</b>"</p>
		<h3>opération</h3>
		<p>Les opérations permettent de modifier les variables librement.</p>
		<p>Par exemple si vous voulez que la variable vies soit égale à 5 écrivez : "<b>[vies]=5</b>"</p>
		<p>pour que 2 vies soient enlevées écrivez :"<b>[vies]=[vies]-2</b>"</p>
		<p>pour que la variable humeur soit égale à content écrivez:"<b>[humeur]='content'</b>"</p>
		<h3>variables prédéfinies</h3>
		<p>Il existe plusieurs variables qui n'ont pas besoin d'être définies</p>
		<ul>
			<li>[LAST] : dernière réplique de l'utilisateur</li>
			<li>[DELAY] : temps en secondes que l'utilisateur a mis entre ses deux dernières answers</li>
			<li>[DURATION] : temps en secondes depuis que la conversation a commencé</li>
			<li>[RANDOM] : nombre aléatoire entre 0 et 9</li>
			<li>[RAND] : nombre aléatoire entre 0 et 11</li>
			<li>[JOUR] et [DAY] : jour de la semaine</li>
			<li>[MOIS] et [MONTH]: mois de l'année</li>
			<li>[HOUR] : heure présente</li>
			<li>[YEAR] : année présente</li>
		</ul>
	</div>
	<div class="chapitre 5" id="conditions">
		<h2>Conditions</h2>
		<p>Les conditions permettent de préciser dans quel cas la boîte peut être ouverte</p>
		<p>Par exemple :<ul>
			<li>Le drapeau 'bonjour' est nécessaire : <b>[bonjour]>0</b></li>
			<li>Le drappeau 'bonjour' et le drapeau 'salut' sont nécessaires : <b>[bonjour]>0 && [salut]>0</b></li>
			<li>S'il est nécessaire d'avoir 3 drapeaux 'bonjour' ou plus : <b>[bonjour]>=3</b></li>
			<li>Si, à l'inverse, il est nécessaire de ne pas avoir le drapeau 'bonjour' : <b>[bonjour]<1</b></li>
		</ul></p>
	</div>
	<div class="chapitre 6" id="liens">
		<h2>Links</h2>
		<p>Les liens permettent de continuer la conversation à l'intérieur d'une autre boîte. Autrement dit lorsque la boîte A est ouverte si elle est liée à la boîte B, les recherches suivantes se feront uniquement sur les boîtes contenues par la boîte B</p>
		<p>la valeur "<b>retour</b>" permet de renvoyer à la boîte supérieure dans l'arborescence</p>
		<p>la valeur "<b>home</b>" permet de renvoyer à la base de l'arborescence</p>
	</div>
	<div class="chapitre 7" id="images">
		<h2>Images</h2>
		<p>Dans la plupart des thèmes il est possible d'afficher une image lorsqu'une boîte est ouverte.</p>
		<p>Pour celà entrez simplement l'url d'une image. Ca peut être une image en ligne ou une image sur votre ordinateur</p>
	</div>
	<div class="chapitre 8" id="sound">
		<h2>Sound</h2>
		<h3>music</h3>
		<p>Permet d'entrer l'url d'un son qui sera lancé en boucle lorsque la boîte sera ouverte.</p>
		<p>Lorsqu'un son est lancé le son en cours est stoppé. Pour arrêter un son sans en lancer de nouveau tappez "SILENCE"</p>
		<h3>sound</h3>
		<p>Permet d'entrer l'url d'un son qui sera joué une fois lorsque la boîte sera ouverte</p>
	</div>
	<div class="chapitre 9" id="tags">
		<h2>Tags</h2>
		<p>Réservé aux personnes désireuses de coder un thème spécifique à leur chatbot en CSS</p>
		<p>Permet d'entrer une valeur qui sera appliqué à la class de la answer de la boîte et à la class du body de la page</p>
	</div>
</div>
</body>
<script type="text/javascript">
	document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
	var table=document.getElementById("table");
	var titretable=document.getElementById("titretable");
	titretable.addEventListener('click',function(e){
		table.classList.toggle("ouvert");
	});
	window.addEventListener('click', function(e){   
	  if (!document.getElementById('table').contains(e.target)){
	    // Clicked in box
		table.classList.remove("ouvert");
	  } 
	});
</script>
</html>